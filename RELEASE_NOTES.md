# SuperPicky V3.0 Release Notes

## 🎉 版本亮点

**SuperPicky V3.0 - 慧眼选鸟** 是一款基于 AI 深度学习的智能鸟类照片筛选工具，帮助摄影师快速从大量照片中挑选出优质作品。

---

## ✨ 新功能

### 🤖 AI 智能评分系统
- **YOLO11m 分割模型**：高精度鸟类识别（置信度 + 锐度 + 面积占比）
- **四级评分体系**：
  - ⭐⭐⭐ + 🏆 **优选照片**（3星 + 精选）：AI置信度高、锐度优秀、构图居中
  - ⭐⭐ **良好照片**（2星）：置信度 ≥50%、锐度 ≥50
  - ⭐ **普通照片**（1星）：检测到鸟但质量一般
  - 🚫 **无鸟照片**（-1星 + 拒绝旗标）：自动标记为 Rejected

### 📊 EXIF 元数据标记
- 自动写入 **Rating**（星级）和 **Pick**（精选标记）到 RAW 文件
- 锐度值存储于 **IPTC:City** 字段（格式：000.00-999.99）
- **Lightroom/Capture One 完美兼容**：导入后直接按星级/旗标筛选

### 🖼️ 实时预览 + 历史回看
- **双面板对比预览**：原图 + AI识别结果（带蒙版）
- **滑块/方向键浏览**：快速查看所有处理过的照片
- **历史记录加载**：重新打开目录时自动恢复上次处理结果
- **可关闭实时预览**：大批量照片（100+）时提速 50%

### ⚡ 性能优化
- **并行 RAW 转 JPG**：多线程转换（最多 4 线程）
- **批量 EXIF 写入**：每 10 张批量操作，减少 I/O 开销
- **条件过滤优化**：使用 ExifTool `-if` 条件跳过高星照片（≥4星）
- **平均处理速度**：
  - 关闭预览：~0.6 秒/张
  - 开启预览：~1.2 秒/张

### 📈 智能统计报告
- **实时处理统计**：3星/2星/1星/无鸟 数量 + 占比
- **时间统计**：总耗时、平均每张耗时
- **智能提示**：根据拍摄结果提供个性化建议（幽默 + 实用）

### 🧹 临时文件管理
- **一键清理**：删除 `_tmp` 目录（Crop 预览图、临时 JPG、CSV）
- **一键重置**：清理 + 重置 EXIF 元数据（保留 4-5 星照片）
- **历史记录保留**：处理后可随时回看，无需重新处理

---

## 🎨 用户体验优化

### 界面改进
- **现代化 UI**：基于 Tkinter + ttkthemes（Arc 主题）
- **深色代码风格日志**：类 VS Code 配色（绿色=优秀、蓝色=良好、橙色=普通、洋红=拒绝）
- **响应式预览**：窗口大小自适应，横竖拍照片智能缩放

### 工作流优化
- **支持 RAW + JPG**：自动识别并转换 NEF/CR2/CR3/ARW/RAF 等格式
- **Lightroom 使用指南**：处理完成后自动显示导入步骤
- **可调参数**：置信度（50-100%）、鸟面积占比（0.5-25%）、锐度阈值（0-200）

---

## 🛠️ 技术栈

- **AI 模型**：Ultralytics YOLO11m-seg（43MB，速度与精度平衡）
- **EXIF 工具**：ExifTool（批量元数据写入）
- **图像处理**：OpenCV + PIL
- **打包方式**：PyInstaller（macOS DMG）
- **签名/公证**：Apple Developer ID + Notarization

---

## 📦 安装说明

### macOS 用户
1. 下载 `SuperPicky_v3.0.dmg`（326MB）
2. 打开 DMG → 拖拽 `SuperPicky.app` 到应用程序文件夹
3. 首次运行：右键点击 → 打开（绕过 Gatekeeper）
4. 后续可直接双击运行

### 系统要求
- macOS 10.15+（Catalina 及以上）
- 8GB+ RAM（推荐 16GB）
- 支持 Apple Silicon（M1/M2/M3）和 Intel 芯片

---

## 📝 使用步骤

1. **选择目录**：点击"浏览"选择照片文件夹（支持 RAW/JPG 混合）
2. **调整参数**（可选）：默认参数已优化，适合大多数场景
3. **开始处理**：
   - 大批量照片（100+）建议关闭"实时预览"以提速
   - 处理完成后可加载历史记录查看
4. **导入 Lightroom**：按照提示导入照片，自动按星级/旗标筛选

---

## 🐛 已知问题

- **RAW 格式兼容性**：部分小众 RAW 格式可能需要手动转 JPG
- **首次运行**：AI 模型加载需 1-2 秒（仅首次）
- **内存占用**：处理大批量照片（1000+）时建议关闭其他应用

---

## 🔮 未来计划

- [ ] 支持自定义 AI 模型训练（用户提供样本）
- [ ] 批量导出筛选结果（仅复制优选照片）
- [ ] 支持视频关键帧提取
- [ ] Windows/Linux 版本

---

## 📄 许可证

Copyright © 2025 James Zhen Yu. All rights reserved.

---

## 🙏 致谢

- **Ultralytics YOLO**：提供高性能目标检测模型
- **ExifTool**：强大的元数据处理工具
- **Claude Code**：开发助手

---

**版本号**：3.0.0
**发布日期**：2025-10-10
**构建 ID**：5cda86f
**下载链接**：[GitHub Releases](https://github.com/jamesphotography/SuperPicky/releases)
